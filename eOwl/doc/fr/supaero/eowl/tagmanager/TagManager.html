<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_07) on Mon Dec 17 18:27:59 CET 2012 -->
<title>TagManager</title>
<meta name="date" content="2012-12-17">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TagManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TagManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../fr/supaero/eowl/tagmanager/Tag.html" title="class in fr.supaero.eowl.tagmanager"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?fr/supaero/eowl/tagmanager/TagManager.html" target="_top">Frames</a></li>
<li><a href="TagManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fr.supaero.eowl.tagmanager</div>
<h2 title="Class TagManager" class="title">Class TagManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>fr.supaero.eowl.tagmanager.TagManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TagManager</span>
extends java.lang.Object</pre>
<div class="block"><b>Classe TagManager</b>
  <p>
  Chaque utilisateur possède un (et un seul)  <code>TagManager</code>.
  <code>TagManager</code> permet de gérer l'ensemble des arbres de l'utilisateur. 
  C'est à dire son arbre personnel et les arbres des serveurs connus.
  <p>
  <code>TagManager</code> permet de créer un <code>Tree</code> lors de la première utilisation du logiciel et de sauvegarder et charger les <code>Tree</code>, <code>Tag</code> et <code>File</code> par la suite.
  Au démarrage du logiciel, il va charger les arbres enregistrés et faire une campagne de mise à jour pour les arbres des serveurs connus, sauvegardés en local.
  Les mises à jour seront effectuées avec des requêtes de type <code>AskDate</code> et <code>AskTree</code>.
  <p>
  <code>TagManager</code> permet aussi de parcourir le dossier des fichiers du serveur au lancement du programme et sur demande de l'utilisateur pour effectuer la mise à jour des fichiers.
  <p>
  Enfin, il sert d'intermédiaire entre les arbres, le client et le serveur. Il reçoit les requêtes, effectue les recherches dans les arbres et renvoie les résultats sous forme de <code>Results</code>.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>1.0 - 14/12/2012</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Bocquet Guillaume & Pertat Adrien</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#TagManager(java.lang.String)">TagManager</a></strong>(java.lang.String&nbsp;user)</code>
<div class="block">Créer une nouvelle instance de <code>TagManager</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#addTree(fr.supaero.eowl.tagmanager.Tree)">addTree</a></strong>(<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;newtree)</code>
<div class="block"><code>addTree</code> permet d'ajouter un arbre à la liste des arbres des serveurs connus.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a></code></td>
<td class="colLast"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#catchTree(java.lang.String)">catchTree</a></strong>(java.lang.String&nbsp;treeName)</code>
<div class="block"><code>catchTree</code> renvoie à arbre connaissant son nom.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.HashMap&lt;java.lang.String,<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#getListTree()">getListTree</a></strong>()</code>
<div class="block"><code>getListTree</code> renvoie la liste des arbres de l'utilisateur (arbre personnel et arbres des serveurs connus).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../fr/supaero/eowl/results/Results.html" title="interface in fr.supaero.eowl.results">Results</a></code></td>
<td class="colLast"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#getResults(fr.supaero.eowl.request.Request)">getResults</a></strong>(<a href="../../../../fr/supaero/eowl/request/Request.html" title="interface in fr.supaero.eowl.request">Request</a>&nbsp;search)</code>
<div class="block"><code>getResults</code> renvoie un résultats <code>Results</code> relatifs à une requête <code>Request</code> passée en paramètre.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a></code></td>
<td class="colLast"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#loadTree(java.lang.String)">loadTree</a></strong>(java.lang.String&nbsp;fileName)</code>
<div class="block"><code>loadTree</code> permet de chargé un arbre sauvegardé (via l'interface <code>serializable</code>) lors du démarrage de eOwl.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#saveTree(fr.supaero.eowl.tagmanager.Tree)">saveTree</a></strong>(<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;data)</code>
<div class="block"><code>saveTree</code> permet de sauvegarder un arbre (via l'interface <code>serializable</code>) pour pouvoir le recharger lors d'une prochaine utilisation de eOwl.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#updateFile(java.util.HashMap, java.util.ArrayList)">updateFile</a></strong>(java.util.HashMap&lt;java.lang.String,<a href="../../../../fr/supaero/eowl/tagmanager/File.html" title="class in fr.supaero.eowl.tagmanager">File</a>&gt;&nbsp;oldMap,
          java.util.ArrayList&lt;java.lang.String&gt;&nbsp;listFile)</code>
<div class="block"><code>updateFile</code> permet de faire une mise à jour des fichiers <code>File</code> du serveur de l'utilisateur.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../fr/supaero/eowl/tagmanager/TagManager.html#updateTree(fr.supaero.eowl.tagmanager.Tree, fr.supaero.eowl.tagmanager.Tree)">updateTree</a></strong>(<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;oldTree,
          <a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;newTree)</code>
<div class="block"><code>updateTree</code> permet de faire la mise à jour d'un arbre <code>Tree</code> de l'utilisateur.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TagManager(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TagManager</h4>
<pre>public&nbsp;TagManager(java.lang.String&nbsp;user)</pre>
<div class="block">Créer une nouvelle instance de <code>TagManager</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cuser</code> - String, nom de l'utilisateur.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="updateFile(java.util.HashMap, java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFile</h4>
<pre>public&nbsp;void&nbsp;updateFile(java.util.HashMap&lt;java.lang.String,<a href="../../../../fr/supaero/eowl/tagmanager/File.html" title="class in fr.supaero.eowl.tagmanager">File</a>&gt;&nbsp;oldMap,
              java.util.ArrayList&lt;java.lang.String&gt;&nbsp;listFile)</pre>
<div class="block"><code>updateFile</code> permet de faire une mise à jour des fichiers <code>File</code> du serveur de l'utilisateur.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>oldMap</code> - HashMap<String, File>, la liste des fichiers de l'utilisateur, qui est donnée par l'arbre de l'utilisateur. Elle doit être mise à jour.</dd><dd><code>listFile</code> - ArrayList<String>, la liste des fichiers effectivement présents dans le répertoire du serveur de l'utilisateur.
                Elle est générée par la méthode browseDirectory du serveur.
 
 <code>updateFile</code> compare les noms du HashMap avec l'ArrayList et supprime les objets <code>File</code> dont les fichiers ont été supprimés du répertoire.
 Il crée les objets <code>File</code> des nouveaux fichiers du répertoire. Par défaut, un changement de nom d'un des fichiers se traduit par la suppression du <code>File</code> avec l'ancien nom et la création du <code>File</code> du fichier renommé.</dd></dl>
</li>
</ul>
<a name="updateTree(fr.supaero.eowl.tagmanager.Tree, fr.supaero.eowl.tagmanager.Tree)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTree</h4>
<pre>public&nbsp;void&nbsp;updateTree(<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;oldTree,
              <a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;newTree)</pre>
<div class="block"><code>updateTree</code> permet de faire la mise à jour d'un arbre <code>Tree</code> de l'utilisateur.
 Il s'agit d'un arbres d'un serveur connu, enregistré en local et non de l'arbre personnel de l'utilisateur.
 Cette méthode permet à l'utilisateur d'ajouter ses propres étiquettes sur l'arbre d'un serveur connu (stockés en local) et de mettre à jour cet arbre sans perdre ses étiquettes personnelles.
 Dans le cas où la réponse <code>AskDate</code> donne un résultats "false", l'arbre du serveur distant à été modifié par rapport à sa version stockée en local. Il y a donc envoi d'une requète Dans le cas où la réponse <code>AskTree</code> pour que le serveur retourne la dernière version de son arbre.
 L'ancien arbre et le nouveau seront alors comparés.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>oldTree</code> - Tree, l'arbre à mettre à jour.</dd><dd><code>newTree</code> - Tree, le nouvel arbre, envoyé par le serveur distants. 
 <p>
 Après comparaison, c'est l'ancien arbre qui est modifié, le nouvel arbre ne sert plus.
 Lors de la comparaison, les fichiers qui ne sont plus dans le nouvel arbre (par rapport à l'ancien) sont supprimés de l'ancien arbre.
 Les étiquettes qui ont été ajoutées sur le nouvel arbre sont ajoutées également à l'ancien. 
 En cas de déplacement d'étiquettes sur le nouvel arbre, les étiquettes sont aussi déplacées sur l'ancien.
 
 Pour ne pas supprimer les étiquettes personnelles de l'utilisateur, seules les étiquettes de l'ancien arbre qui ne sont liées à aucun fichier sont supprimées.</dd></dl>
</li>
</ul>
<a name="catchTree(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>catchTree</h4>
<pre>public&nbsp;<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;catchTree(java.lang.String&nbsp;treeName)</pre>
<div class="block"><code>catchTree</code> renvoie à arbre connaissant son nom.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>un <code>Tree</code> dont le nom est celui passé en paramètre.</dd></dl>
</li>
</ul>
<a name="saveTree(fr.supaero.eowl.tagmanager.Tree)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveTree</h4>
<pre>public&nbsp;void&nbsp;saveTree(<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;data)</pre>
<div class="block"><code>saveTree</code> permet de sauvegarder un arbre (via l'interface <code>serializable</code>) pour pouvoir le recharger lors d'une prochaine utilisation de eOwl.</div>
</li>
</ul>
<a name="loadTree(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadTree</h4>
<pre>public&nbsp;<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;loadTree(java.lang.String&nbsp;fileName)</pre>
<div class="block"><code>loadTree</code> permet de chargé un arbre sauvegardé (via l'interface <code>serializable</code>) lors du démarrage de eOwl.</div>
</li>
</ul>
<a name="getListTree()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListTree</h4>
<pre>public&nbsp;java.util.HashMap&lt;java.lang.String,<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&gt;&nbsp;getListTree()</pre>
<div class="block"><code>getListTree</code> renvoie la liste des arbres de l'utilisateur (arbre personnel et arbres des serveurs connus).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>un <code>HashMap<String, Tree></code> qui est la liste des arbres.
 La clé du Hashmap est le nom de l'arbre (String), l'élément est l'arbre (Tree).</dd></dl>
</li>
</ul>
<a name="getResults(fr.supaero.eowl.request.Request)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResults</h4>
<pre>public&nbsp;<a href="../../../../fr/supaero/eowl/results/Results.html" title="interface in fr.supaero.eowl.results">Results</a>&nbsp;getResults(<a href="../../../../fr/supaero/eowl/request/Request.html" title="interface in fr.supaero.eowl.request">Request</a>&nbsp;search)</pre>
<div class="block"><code>getResults</code> renvoie un résultats <code>Results</code> relatifs à une requête <code>Request</code> passée en paramètre.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>un <code>Results></code> qui est le résultat de la requête (encore appelée recherche).
 
 Il faudra faire une boucle ou un switch sur les différents types de <code>Request</code> pour faire appel aux bonnes méthodes de <code>Tree</code> et générer le type de <code>Results</code> associé au type de la <code>Request</code>.</dd></dl>
</li>
</ul>
<a name="addTree(fr.supaero.eowl.tagmanager.Tree)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addTree</h4>
<pre>public&nbsp;void&nbsp;addTree(<a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager">Tree</a>&nbsp;newtree)</pre>
<div class="block"><code>addTree</code> permet d'ajouter un arbre à la liste des arbres des serveurs connus.
 Exemple: Lors de la recherche sur serveurs voisins, on récupère de nouvelles adresses de serveurs. On leur demande leur arbre lors de la première connexion à ces serveurs et on l'ajoute à la liste des arbres.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newTree</code> - Tree, le nouvel arbre à ajouter à la liste.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TagManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../fr/supaero/eowl/tagmanager/Tag.html" title="class in fr.supaero.eowl.tagmanager"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../fr/supaero/eowl/tagmanager/Tree.html" title="class in fr.supaero.eowl.tagmanager"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?fr/supaero/eowl/tagmanager/TagManager.html" target="_top">Frames</a></li>
<li><a href="TagManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
